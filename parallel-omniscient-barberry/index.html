<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="Description" content="A super basic file handling demo" />
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <!--<meta http-equiv="Refresh" content="5; url='https://www.example.com'" />-->
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#9aca42" />
    <!-- Should match with theme_color in manifest.json -->
    <!-- File Handling token from ./generate_token.py -->
    <meta
      http-equiv="origin-trial"
      name="file-handling"
      content="Aw+on2fMN4Tws+WVZKUGbOQYKsSz4rCqrKi7CVklSDaLUyuShfeBmWHJ8Yobsk+WHlX60v/uHiCKmhhZCSz5RA0AAABteyJvcmlnaW4iOiAiaHR0cHM6Ly9tb3JuaW5nLWJ1YmJseS1jaGF1ZmZldXIuZ2xpdGNoLm1lOjQ0MyIsICJmZWF0dXJlIjogIkZpbGVIYW5kbGluZyIsICJleHBpcnkiOiAxNjIzOTY4MjY2fQ=="
    />
    <link rel="manifest" href="/manifest.json" />
    <title>PRY File Handling Demo with .foo and .bar</title>
    <link rel="stylesheet" href="style.css" />
    <script src="app.js" type="module" async></script>
  </head>
  <body>
    <h1>
      File Handling Demo APP (parallel-omniscient-barberry) with .foo and .bar
    </h1>

    <!-- include the Glitch button to show what the webpage is about and
      to make it easier for folks to view source and remix -->
    <div
      class="glitchButton"
      style="position: fixed; top: 20px; right: 20px"
    ></div>
    <script src="https://button.glitch.me/button.js" defer></script>

    <div class="section hide" id="problems">
      <h2>Problems</h2>
      <ul>
        <li class="error" id="file-handling-problem">
          FileHandling is not available (ensure Chrome was started with
          --enable-features=FileHandlingAPI)
        </li>
        <li class="error" id="file-system-problem">
          NativeFileSystem is not available (ensure Chrome was started with
          --enable-features=NativeFileSystemAPI)
        </li>
      </ul>
    </div>
    <div class="section hide" id="launch-files">
      <h2>Launched Files</h2>
      <canvas id="image-view" hidden>Here's where an image would go</canvas>
      <div id="editors-container"></div>
    </div>
    <div class="section hide" id="opened-files" hidden>
      <h2>Opened Files</h2>
      <p>Files which can be edited and saved back to the file system.</p>
      <div id="opened-editors-container"></div>
      <button id="open-files-button">Open File</button>
      <button id="open-folder-button">Open Folder</button>
    </div>
    <div class="section hide" id="manifest-types-mime">
      <h2>Manifest File Types (MIME):</h2>
      <ul id="manifest-types-mime-list"></ul>
    </div>
    <div class="section hide" id="manifest-types-extension">
      <h2>Manifest File Types (Extension):</h2>
      <ul id="manifest-types-extension-list"></ul>
    </div>
  </body>
  <template id="file-editor-template">
    <div>
      <h3>File: <span name="file-name"></span></h3>
      <textarea
        name="file-contents"
        cols="80"
        rows="10"
        style="white-space: pre-wrap"
      >
      </textarea>
      <br />
      <button name="save-button">Save</button>
      <button name="delete-button">Delete</button>
      <br />
    </div>
  </template>
</html>
